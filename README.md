# Vython

##

## Syntax
```
d ::=                          # トップレベル宣言
    ("class" C "@" ver ":" "{" (c)^* "}" "\r")^* d # バージョン付きクラス定義
  | ("class" C "@" ver "(" x ")" ":" "{" (c)^* "}" "\r")^* d # バージョン付きクラス定義（スーパークラスあり）

p ::=           # プログラム
  (e ";")^* "return" e

e ::=                        # 文(値を返すとは限らない)
    x "=" e                  # ローカル変数への代入
  | e "." x "=" e            # オブジェクトの属性への割当
  | x                        # 変数参照
  | C "!" ver "(" e, ... ")" # バージョンを指定したインスタンス生成
  | e "." x                  # 属性参照
  | e "." x "(" e, ... ")"   # メソッド呼び出し

c ::=                          # クラス定義の中身
  "def" x "(" x, ... ")" ":" p # メソッド定義

ver ::= n                  # バージョン番号
```


## Semantic Objects
```
obj ::= (class, field)     # python object
v ::= (obj, VT)            # 値
v+fail ::= fail | v
```